<!DOCTYPE html>
<html class="h-100">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
        <meta name="description" content="Sample mini-game written in Javascript" />
        <meta name="author" content="Толмачёв Илья" />
        <title>Simple Fight Game</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body class="d-flex h-100 text-center text-white bg-dark">
        <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
            <header class="mb-auto">

            </header>
            <main class="px-3">
                <div>
                    <canvas style="width: 640px;" width="320px" height="204px"></canvas>
                </div>        
            </main>
            <footer class="mt-auto">

            </footer>
        </div>
    </body>
    <script type="text/javascript" src="js/game.js"></script>
    <script type="text/javascript">
        (function(window,document){
            const canvas = document.querySelector("canvas");
            const intervalId = setInterval(update, 50);

            let game = window.game = new Game(canvas);
            game.init();

            window.addEventListener("keydown", ({ keyCode }) => {
                game.handle("keydown", keyCode);
            });

            window.addEventListener("keyup", ({ keyCode }) => {
                game.handle("keyup", keyCode);
            });

            function animate() {
                window.requestAnimationFrame(animate);
                game.draw();
            }

            function update() {
                game.update();
            }

            animate();

        })(window, document);
    </script>
</html>